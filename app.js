var activeDir,app,bodyParser,config,cookieParser,express,fs,path,routes,staticDir,viewsRoot;path=require("path"),express=require("express"),config=require("./config").config,routes=require("./routes"),fs=require("fs"),app=express(),cookieParser=require("cookie-parser"),bodyParser=require("body-parser"),app.use(cookieParser()),app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),viewsRoot=path.join(__dirname,"view"),app.set("views",viewsRoot),app.set("view engine","jade"),app.use(function(e,r,i){return r.locals.config=config,i()}),staticDir=path.join(__dirname,"public"),activeDir=path.join(__dirname,"active"),app.use(express["static"](staticDir)),app.use(express["static"](activeDir)),routes(app),app.listen(config.port,config.ip),console.log("Node Web Start.");